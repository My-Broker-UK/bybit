"use strict";var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&i(e,n,t[n]);return e},l=(e,t,n)=>new Promise(((r,o)=>{var a=e=>{try{s(n.next(e))}catch(t){o(t)}},i=e=>{try{s(n.throw(e))}catch(t){o(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,i);s((n=n.apply(e,t)).next())}));const c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.href="/common-static/cht-static/user-svc/js/by_appsflyer_23c876d.css",document.head.append(c);const d=["lang","affiliate_id","group_id","group_type","ref","utm_url","utm_date","medium","source","campaign","content","referrer","srcexid","scrplatform","url"],p=()=>{const e=`BYBIT_REG_REF_${(()=>{const{host:e}=window.location;let t="prod";return e.includes("testnet")?t="testnet":e.includes("-test")?t="test":e.includes("-dev")?t="dev":e.includes("local")&&(t="local"),t})()}`,t=document.cookie.split("; ");let n={};return t.forEach((t=>{if(0===t.indexOf(e+"=")){const[r,o]=t.split(e+"=");n=JSON.parse(o)}})),n},u=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,m=/android|ipad|playbook|silk/i;function f(e){e||(e={});let t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;let n=u.test(t)||!!e.tablet&&m.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}const y=(e,t)=>{let n={af_force_deeplink:!0,is_retargeting:!0};if(e&&0===e.indexOf("by")&&(n.af_dp=e),t){let t=p(),r="";const{source:o,medium:a}=t;let{lang:i}=t;"zh-CN"===i&&(i="zh-MY"),o&&(n.af_campaign=o),a&&(n.af_adgroup=a),i&&(n.af_creative=i),Object.keys(t).forEach((e=>{d.includes(e)&&(r+="url"===e?`&${e}=${encodeURIComponent(t[e])}`:`&${e}=${t[e]}`)})),e&&"string"==typeof e&&(e.indexOf("?")>0?e+=r:e+="?"+r.substring(1),n.af_dp=encodeURIComponent(e))}else e&&(n.af_dp=encodeURIComponent(e));return n.af_dp||delete n.af_dp,n},b=(e,t)=>l(this,null,(function*(){let n=y(e,t);const r=Object.keys(n).map((e=>({paramKey:e,defaultValue:n[e]})));r.push({paramKey:"deep_link_value",defaultValue:n.af_dp||e});var o=window.AF_SMART_SCRIPT.generateOneLinkURL({oneLinkURL:"https://bybit.onelink.me/EhY6",afParameters:{mediaSource:{keys:["utm_source"],defaultValue:"ss_default"},afCustom:r}});let a="No output from script";return o&&(a=o.clickURL),a})),w=()=>{const e=window.location.pathname;let t;const n=(()=>{let e=window.location.search;if(0===e.length)return{};e=e.substring(1);const t=e.split("&"),n={};return t.forEach((e=>{const[t,r]=e.split("=");n[t]=r})),n})();return e.includes("/VIPProgram/intro")||e.includes("/VIPProgram")||e.includes("/my-fee-rate")?t="bybitapp://open/route?targetUrl="+encodeURIComponent("by-mini://vip/home?jumpToForm=0"):e.includes("/leaderboard")?t="bybitapp://open/route?targetUrl="+encodeURIComponent("by-mini://leaderboard/home"):e.includes("/userprofile")&&(t="bybitapp://open/route?targetUrl="+encodeURIComponent(`by-mini://leaderboard/home?hashId=${n.id}`)),t};window.byAppsFlyers={showSmartBanner:(e,r=!0)=>l(this,null,(function*(){if((!window||!navigator.userAgent.match(/bybit_app/i))&&f){if(window.AF){let i=w();i&&(e=i);let l,c=y(e,r);return window.AF("banners","showBanner",{additionalParams:(o=s({},c),a={deep_link_value:c.af_dp||e},t(o,n(a)))}),l=setInterval((()=>{document.querySelector(".responsive-wrapper")&&(document.querySelector(".responsive-wrapper").style.zIndex=1e4,clearInterval(l))}),1e3),!0}var o,a,i,l,c,d,p,u,m;window.byAppsFlyersLoad?window.byAppsFlyers.showSmartBanner(e,r):(window.byAppsFlyersLoad=!0,i=window,l=document,c="script",d="banners",p={banners:{key:"2c8670ca-c712-4f3c-956d-55356d1796cb"}},i.AppsFlyerSdkObject="AF",i.AF=i.AF||function(){(i.AF.q=i.AF.q||[]).push([Date.now()].concat(Array.prototype.slice.call(arguments)))},i.AF.id=i.AF.id||p,i.AF.plugins={},u=l.createElement(c),m=l.getElementsByTagName(c)[0],u.async=1,u.src="https://websdk.appsflyer.com?"+(d.length>0?"st="+d.split(",").sort().join(",")+"&":"")+(p.length>0?"af_id="+p:""),m.parentNode.insertBefore(u,m)),setTimeout((()=>{window.byAppsFlyers.showSmartBanner(e,r)}),500)}})),getOneLink:(e="",t=!0)=>l(this,null,(function*(){return window.AF_SMART_SCRIPT?yield b(e,t):new Promise((n=>{const r=document.createElement("script");r.src="/common-static/cht-static/user-svc/js/appsflyer_onelink.js",document.body.appendChild(r),window.appsFlyerLoaded=!0,r.addEventListener("load",(()=>l(this,null,(function*(){const r=yield window.byAppsFlyers.getOneLink(e,t);n(r)}))))}))})),triggerOneLink:(e="",t=!0)=>new Promise((n=>{window.byAppsFlyers.getOneLink(e,t).then((e=>{const t=document.createElement("a");t.style.display="none",t.setAttribute("href",e),document.body.appendChild(t),t.click(),document.body.removeChild(t),n(e)}))}))};

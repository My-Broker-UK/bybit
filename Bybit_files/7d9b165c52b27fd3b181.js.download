(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{302:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e}).apply(this,arguments)}function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(source,!0).forEach((function(t){S(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(source,e){if(null==source)return{};var t,i,n=function(source,e){if(null==source)return{};var t,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||(n[t]=source[t]);return n}(source,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(source,t)&&(n[t]=source[t])}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?w(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,p){return(O=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e})(e,p)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n(0),j=(n(720),n(723)),x=n(439);function E(e){for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n<2048?(t+=String.fromCharCode(192|n>>6),t+=String.fromCharCode(128|63&n)):n<55296||n>=57344?(t+=String.fromCharCode(224|n>>12),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n)):(i++,n=65536+((1023&n)<<10|1023&e.charCodeAt(i)),t+=String.fromCharCode(240|n>>18),t+=String.fromCharCode(128|n>>12&63),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n))}return t}var _={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,r){var o=null;e.forEach((function(l,c){if(!l&&null!==o)return n.push("M".concat(o+t," ").concat(r+t,"h").concat(c-o,"v1H").concat(o+t,"z")),void(o=null);if(c!==e.length-1)l&&null===o&&(o=c);else{if(!l)return;null===o?n.push("M".concat(c+t,",").concat(r+t," h1v1H").concat(c+t,"z")):n.push("M".concat(o+t,",").concat(r+t," h").concat(c+1-o,"v1H").concat(o+t,"z"))}}))})),n.join("")}function k(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function z(e,t){var n=e.imageSettings,r=e.size,o=e.includeMargin;if(null==n)return null;var l=o?4:0,c=t.length+2*l,f=Math.floor(.1*r),h=c/r,d=(n.width||f)*h,v=(n.height||f)*h,y=null==n.x?t.length/2-d/2:n.x*h,m=null==n.y?t.length/2-v/2:n.y*h,w=null;if(n.excavate){var C=Math.floor(y),O=Math.floor(m);w={x:C,y:O,w:Math.ceil(d+y-C),h:Math.ceil(v+m-O)}}return{x:y,y:m,h:v,w:d,excavation:w}}var D=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),L=function(e){function t(){var e,n;h(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return S(w(n=y(this,(e=m(t)).call.apply(e,[this].concat(o)))),"_canvas",void 0),S(w(n),"_image",void 0),S(w(n),"state",{imgLoaded:!1}),S(w(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return C(t,e),v(t,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(e){var t,n;(null===(t=this.props.imageSettings)||void 0===t?void 0:t.src)!==(null===(n=e.imageSettings)||void 0===n?void 0:n.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,o=e.bgColor,l=e.fgColor,c=e.includeMargin,f=e.imageSettings,h=new j(-1,x[r]);if(h.addData(E(t)),h.make(),null!=this._canvas){var canvas=this._canvas,d=canvas.getContext("2d");if(!d)return;var v=h.modules;if(null===v)return;var y=c?4:0,m=v.length+2*y,w=z(this.props,v);null!=f&&null!=w&&null!=w.excavation&&(v=k(v,w.excavation));var C=window.devicePixelRatio||1;canvas.height=canvas.width=n*C;var O=n/m*C;d.scale(O,O),d.fillStyle=o,d.fillRect(0,0,m,m),d.fillStyle=l,D?d.fill(new Path2D(M(v,y))):v.forEach((function(e,t){e.forEach((function(e,n){e&&d.fillRect(n+y,t+y,1,1)}))})),this.state.imgLoaded&&this._image&&null!=w&&d.drawImage(this._image,w.x+y,w.y+y,w.w,w.h)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),style=(t.level,t.bgColor,t.fgColor,t.style),r=(t.includeMargin,t.imageSettings),l=f(t,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),h=c({height:n,width:n},style),img=null,d=r&&r.src;return null!=r&&null!=d&&(img=P.createElement("img",{src:d,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),P.createElement(P.Fragment,null,P.createElement("canvas",o({style:h,height:n,width:n,ref:function(t){return e._canvas=t}},l)),img)}}]),t}(P.PureComponent);S(L,"defaultProps",_);var A=function(e){function t(){return h(this,t),y(this,m(t).apply(this,arguments))}return C(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,l=e.bgColor,c=e.fgColor,h=e.includeMargin,d=e.imageSettings,v=f(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),y=new j(-1,x[r]);y.addData(E(t)),y.make();var m=y.modules;if(null===m)return null;var w=h?4:0,C=m.length+2*w,O=z(this.props,m),image=null;null!=d&&null!=O&&(null!=O.excavation&&(m=k(m,O.excavation)),image=P.createElement("image",{xlinkHref:d.src,height:O.h,width:O.w,x:O.x+w,y:O.y+w,preserveAspectRatio:"none"}));var S=M(m,w);return P.createElement("svg",o({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(C," ").concat(C)},v),P.createElement("path",{fill:l,d:"M0,0 h".concat(C,"v").concat(C,"H0z")}),P.createElement("path",{fill:c,d:S}),image)}}]),t}(P.PureComponent);S(A,"defaultProps",_);var F=function(e){var t=e.renderAs,n=f(e,["renderAs"]),r="svg"===t?A:L;return P.createElement(r,n)};F.defaultProps=c({renderAs:"canvas"},_),e.exports=F}}]);